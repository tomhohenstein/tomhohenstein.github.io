<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    <title>D3 Choropleth Map – Tom Hohenstein – A place for my experiments</title>

    <meta name="author" content="Tom Hohenstein" />
    <meta name="description" content="A place for my experiments">

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
     <!-- add favicon --> 
    <link rel="icon" type="image/png" href="/assets/img/favicon.ico">
    <!-- add bootstrap --> 
    <link href="/assets/css/l/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/style.css" rel="stylesheet">
    
   </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <div id="brand-holder">
            <a class="navbar-brand" href="http://tomhohenstein.com" id="logo" title="Tom Hohenstein logo" ><sup>T</sup><sub>H</sub></a>
          </div>
          <a class="about-link" href="/about/" title="About Tom Hohenstein">About</a>
         </div>
      </div><!-- /.container-fluid -->
    </nav>
    <div class="body-wrapper" id="D3 Choropleth Map">
    <article>
	<h1>D3 Choropleth Map</h1>
	<div class="entry">
		<div id="clinic"></div>

<p>I am taking a <a href="http://libraryjuiceacademy.com/">Library Juice Academy</a> class on using <a href="http://d3js.org/">D3</a>. I created this choropleth map for my third assignment. </p>

<pre><code>$( document ).ready(function (){ 

	//declare vars
	var width,
	height;  

	var projection = d3.geo.albers()
		.scale(width)
		.translate([]);

	var path = d3.geo.path()
		.projection(projection)
		.pointRadius(1);

	var map = d3.select("#clinic").append("svg")
		.attr("width", width)
		.attr("height", height);	

	//loads map data - using queue.v1.min.js
	queue()
		.defer(d3.json, "/assets/data/us.json")
		.defer(d3.json, "/assets/data/state.topo.clinics.json")
		.defer(d3.csv, "/assets/data/dialysis.clinics.csv")
		.await(ready);

	//function for when data is loaded
	function ready(error, us, state, clinics) {

		//quantize state clinic counts 
		var color_data = [];
		state.objects.state.geometries.forEach();

		//us data
		map.append("path")
			.datum(topojson.feature(us, us.objects.land))
			.attr("class", "land")
			.attr("d", path)
			.attr("style",); 
		
		//state data 
		var color_scale = d3.scale.quantize()
			.domain()
			.range([]);

		map.append("g")
			.attr("class", "state")
			.selectAll("path")
			.data(topojson.feature(state, state.objects.state).features)
			.enter()
			.append("path") 
			.attr("d", path)
			.style("fill", );

		//adds legend
		var legend = map.selectAll("g.legend")
			.data(color_scale.range())
			.enter()
			.append("g")
			.attr("class", "legend");

		legend.append("rect")
			.attr("x", )
			.attr("y", )
			.attr("width", )
			.attr("height", )
			.style("stroke", )
			.style("stroke-width", )
			.style("fill", )

		legend.append("text")
			.attr("x", )
			.attr("y", )
			.attr("dy", )
			.text()

		//clinic data
		map.append("path")
		.datum({type: "MultiPoint", coordinates: clinics})
		.attr("class", "points")
		.attr("d", path); 
		
	}//end ready funciton 
}); // end .ready() 
</code></pre>

	</div>
</article>
    </div>
    <footer class="row">
      <div>
        <p>Find me on</p>
        <a href="https://www.linkedin.com/in/hohenstein/"><img alt="LinkedIn Icon" class="footer-icon" src="/assets/img/footer-icons/LinkedIn-InBug-2CRev.png"></a> 
        <a href="https://github.com/tomhohenstein"><img alt="GitHub Icon" class="footer-icon" height=50 src="/assets/img/footer-icons/GitHub-Mark-120px-plus.png" width=50></a>
        <a href="https://twitter.com/TomHohenstein"><img alt="Twitter Icon" class="footer-icon"  src="/assets/img/footer-icons/Twitter_logo_blue.png" ></a>
      </div> 
      <div id="issues">
        <p>Something amiss?</p>
        <a class="btn btn-default btn-lg" href="https://github.com/tomhohenstein/tomhohenstein.github.io/issues" id="error" role="button" title="Report an Issue">Report it</a>
      </div>
    </footer>

    <script src="/assets/js/l/jquery-1.11.1.js"></script>
    <script src="/assets/js/l/bootstrap.min.js"></script>
    <script src="/assets/js/l/jquery.mobile.custom.touch.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51252936-1', 'auto');
      ga('send', 'pageview');
    </script>
    
      <script src="/assets/js/l/d3.min.js"></script>
    
      <script src="/assets/js/l/queue.v1.min.js"></script>
    
      <script src="/assets/js/l/topojson.v1.min.js"></script>
    
      <script src="/assets/js/p/map.clinic.js"></script>
    
  </body>
</html>