<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    <title>Libstats Questions Visualized – Tom Hohenstein – A place for my experiments</title>

    <meta name="author" content="Tom Hohenstein" />
    <meta name="description" content="A place for my experiments">

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
     <!-- add favicon --> 
    <link rel="icon" type="image/png" href="/assets/img/favicon.ico">
    <!-- add bootstrap --> 
    <link href="/assets/css/l/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/style.css" rel="stylesheet">
    
      <link href="/assets/css/l/dc.css" rel="stylesheet">
    
   </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <div id="brand-holder">
            <a class="navbar-brand" href="http://tomhohenstein.com" id="logo" title="Tom Hohenstein logo" ><sup>T</sup><sub>H</sub></a>
          </div>
          <a class="about-link" href="/about/" title="About Tom Hohenstein">About</a>
         </div>
      </div><!-- /.container-fluid -->
    </nav>
    <div class="body-wrapper" id="Libstats Questions Visualized">
    <article>
	<h1>Libstats Questions Visualized</h1>
	<div class="entry">
		<style>
	html,
	body, 
	article,
	#small-charts {
		min-width: 992px; 
	}

	h1, 
	h4,
	#question_half_hour,
	#question_weekday,
	#location_name,
	#patron_type,
	#time_spent,
	.center, 
	.jumbotron {
		text-align: center; 
	}
	p:last-child {
		text-align: left; 
	}
	#question_half_hour {
		float:none;
	}
	.jumbotron {
		background-color: white; 
		margin-bottom: 0px; 
		padding-bottom: 0px;

	}
	#small-charts {
		clear:both;
	}
	rect.selected,
	.pie-slice.selected {
		opacity: 1; 
	}
	rect.deselected,
	.pie-slice.deselected {
		opacity: .4; 
	}
	.x.axis text {
    	text-anchor: end !important;
    	transform: rotate(-45deg);
	}
	.dc-chart .selected path {
		stroke: #FFF;
	}
	.dc-chart g.row text {
		fill: rgb(5, 5, 5);
	}
	.center-text {
		font-size: 20px; 
	}
	svg:not(:root) {
		overflow: overlay;
	}
	.hide {
		display: none; 
	}
	#small-charts div {
		max-width: 248px; 
	}

</style>

<p class="center">2014 Data</p>
<div class="jumbotron">
<a class="btn btn-warning btn-lg" href="javascript:dc.filterAll();dc.redrawAll();">Reset All</a>
	<h4>Questions by Half Hour</h4>
	<div id="question_half_hour"></div>
</div>
<div class="row" id="small-charts">
	<div class="col-md-3" id="question_weekday">
		<h4>Weekday <a class="btn btn-default btn-sm" href="javascript:question_weekday_chart.filterAll();dc.redrawAll();">Reset</a></h4>
	</div>
	<div class="col-md-3" id="location_name">
		<h4>Department <a class="btn btn-default btn-sm" href="javascript:location_name_chart.filterAll();dc.redrawAll()">Reset</a></h4>
	</div>
	<div class="col-md-3" id="patron_type">
		<h4>Patron Type <a class="btn btn-default btn-sm" href="javascript:patron_type_chart.filterAll();dc.redrawAll();">Reset</a></h4>
	</div>
	<div class="col-md-3" id="time_spent">
		<h4>Time spent <a class="btn btn-default btn-sm" href="javascript:time_spent_chart.filterAll();dc.redrawAll();">Reset</a></h4>
	</div>
</div>

<p>I am taking a <a href="http://libraryjuiceacademy.com/">Library Juice Academy</a> class on using <a href="http://d3js.org/">D3</a>. I created this <a href="http://square.github.io/crossfilter/">crossfilter</a> dashboard for my last assignment (which was also late :). Be sure to check out the APIs for both <a href="https://github.com/square/crossfilter/wiki/API-Reference">crossfilter</a> and <a href="https://github.com/mbostock/d3/wiki/API-Reference">D3</a> for further documentation. </p>

<pre><code>//declare var outside of d3.csv for user interactions
var question_half_hour_chart = ;
var question_weekday_chart = ;
var location_name_chart = ;
var patron_type_chart = ;
var time_spent_chart = ;

d3.csv("data.csv", function(csv){
	
	//create crossfilter data 
	var data = crossfilter(csv);  
	
	//set dimension vars
	var question_half_hour = data.dimension(),
		question_weekday = data.dimension(),
		location_name = data.dimension(), 
		patron_type = data.dimension(), 
		time_spent = data.dimension();

	//set group vars 
	var question_half_hour_group = question_half_hour.group().reduceCount(), 
		question_weekday_group = question_weekday.group().reduceCount(),
		location_name_group = location_name.group().reduceCount(), 
		patron_type_group = patron_type.group().reduceCount(),
		time_spent_group = time_spent.group().reduceCount();  

	question_half_hour_chart
		.width() 
		.height()
		.margins({})
		.dimension(question_half_hour)
		.group(question_half_hour_group)
		.label()
		.colors([])
		.elasticY()
		.x(d3.scale.ordinal().domain()
        .xUnits(dc.units.ordinal)
        .yAxis().ticks(4);

	question_weekday_chart
		.width() 
		.height()
		.margins({})
		.dimension(question_weekday)
		.group(question_weekday_group)
		.label()
		.title()
		.renderTitle(true)
		.colors([])
		.elasticX()
		.xAxis().ticks(4);	
	
	location_name_chart
		.radius([])
		.innerRadius([])
		.dimension(location_name)
		.group(location_name_group)
		.label()
		.renderLabel()
		.colors([])
		
	patron_type_chart
		.width() 
		.height()
		.margins({})
		.dimension(patron_type)
		.group(patron_type_group)
		.label()
		.title()
		.colors([])
		.elasticX(true)
		.xAxis().ticks(4);

	time_spent_chart
		.width() 
		.height()
		.margins({})
		.dimension(time_spent)
		.group(time_spent_group)
		.label()
		.title()
		.colors([])
		.elasticX(true)
		.xAxis().ticks(4);

	//render all charts 
	dc.renderAll();
	
	//add pie mouse events 
	d3.selectAll(".pie-slice path")
		.on("mouseover", function(d){ })
		.on("mouseout", function(){})

	//add row chart mouse events 
	var row = d3.selectAll("g.row")
		.on("mouseover", function(d){})
		.on("mouseout", function(){})

	//add bar chart mouse events 
	var bar = d3.selectAll(".bar")
		.on("mouseover", function(d){})
		.on("mouseout", function(){})	
})
</code></pre>

	</div>
</article>
    </div>
    <footer class="row">
      <div>
        <p>Find me on</p>
        <a href="https://www.linkedin.com/in/hohenstein/"><img alt="LinkedIn Icon" class="footer-icon" src="/assets/img/footer-icons/LinkedIn-InBug-2CRev.png"></a> 
        <a href="https://github.com/tomhohenstein"><img alt="GitHub Icon" class="footer-icon" height=50 src="/assets/img/footer-icons/GitHub-Mark-120px-plus.png" width=50></a>
        <a href="https://twitter.com/TomHohenstein"><img alt="Twitter Icon" class="footer-icon"  src="/assets/img/footer-icons/Twitter_logo_blue.png" ></a>
      </div> 
      <div id="issues">
        <p>Something amiss?</p>
        <a class="btn btn-default btn-lg" href="https://github.com/tomhohenstein/tomhohenstein.github.io/issues" id="error" role="button" title="Report an Issue">Report it</a>
      </div>
    </footer>

    <script src="/assets/js/l/jquery-1.11.1.js"></script>
    <script src="/assets/js/l/bootstrap.min.js"></script>
    <script src="/assets/js/l/jquery.mobile.custom.touch.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51252936-1', 'auto');
      ga('send', 'pageview');
    </script>
    
      <script src="/assets/js/l/d3.min.js"></script>
    
      <script src="/assets/js/l/crossfilter.v1.min.js"></script>
    
      <script src="/assets/js/l/dc.min.js"></script>
    
      <script src="/assets/js/p/cross.demo.js"></script>
    
  </body>
</html>