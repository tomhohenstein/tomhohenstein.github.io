<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    <title>Instruction Network – Tom Hohenstein – A place for my experiments</title>

    <meta name="author" content="Tom Hohenstein" />
    <meta name="description" content="A place for my experiments">

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
     <!-- add favicon --> 
    <link rel="icon" type="image/png" href="/assets/img/favicon.ico">
    <!-- add bootstrap --> 
    <link href="/assets/css/l/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/css/style.css" rel="stylesheet">
    
   </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <div id="brand-holder">
            <a class="navbar-brand" href="http://tomhohenstein.com" id="logo" ><sup>T</sup><sub>H</sub></a>
          </div>
          <a class="about-link" href="/about/" title="About Tom Hohenstein">About</a>
         </div>
      </div><!-- /.container-fluid -->
    </nav>
    <div class="body-wrapper" id="Instruction Network">
    <article>
	<h1>Instruction Network</h1>
	<div class="entry">
		<style>
.link {
    stroke: rgb(25, 25, 25);
    stroke-width: 0.5px;
}
.node {
    fill: #ccc;
    stroke: #fff;
    stroke-width: 5px;
}
.node text {
  pointer-events: none;
  font: 10px sans-serif;
  }
</style>

<div id="svg"></div>

<p>This project attempts to represent instructional statistics from <a href="http://www.wpi.edu/academics/library.html">WPI’s Gordon Library</a> as a network graph and has two primary goals: </p>

<ul>
  <li>To learn the process and skills necessary to create an interactive, online network graph  </li>
  <li>To see what our “instructional network” looks like </li>
</ul>

<p>I hope that reviewing our statistics as a network graph will help us ask questions like: </p>

<ul>
  <li>Are we able to maintain relationships during staff transitions? </li>
  <li>Are we too dependent on some relationships? </li>
  <li>Are there gaps in our instruction network? </li>
</ul>

<p>Within the graph above the smaller “redish” circles, or nodes, depict faculty members while the larger “blueish” circles are librarians. The blue circles have been artificially enlarged to allow for easier interpretation (it is in no way a reflection on faculty members’ importance! : ). The links, or edges, between each circle represents an instructional session. The darker lines are multiple instruction sessions with a particular faculty member. Finally, hovering over each node highlights that node and its respective edges. </p>

<p>I could add more to this project, such as text and css effects, but I am happy with the current result. Feel free to click around, drag the circles, and generally play. If you break it, <a href="https://github.com/tomhohenstein/tomhohenstein.github.io/issues">let me know!</a></p>

<p>##Background</p>

<p>Before starting, I would like to thank a <a href="http://bl.ocks.org/sathomas/11550728">series of posts</a> by <a href="http://bl.ocks.org/sathomas">sathomas</a> on <a href="http://bl.ocks.org">bl.ocks.org</a>. I was completely lost before I found these posts and would probably still be. I would also like to think the <a href="http://altbibl.io/dst4l/">DST4L</a> community that <a href="https://twitter.com/libcce">Chris Erdmann</a> is building. The <a href="http://altbibl.io/dst4l/">DST4L</a> classes that I attended this fall were awesome and made it possible for me to get this little project off the ground. </p>

<p>##Tools<br />
I used the following tools to build this project: </p>

<ul>
  <li>Mike Bostock’s <a href="http://d3js.org/">D3 javascript</a> library, which can be found <a href="https://github.com/mbostock/d3">on GitHub</a>. </li>
  <li><a href="http://openrefine.org/">OpenRefine</a></li>
  <li><a href="http://www.sublimetext.com/">SublimeText</a> </li>
  <li><a href="http://www.convertcsv.com/csv-to-json.htm">Convert CSV to JSON</a></li>
  <li><a href="http://products.office.com/en-us/excel">Excel</a></li>
</ul>

<p>##Basic Process </p>

<p>Like many libraries we keep rather detailed instruction statistics. However, outside of doing some basic counting with them - number of sessions, number of student contacts, number of session per department - we don’t do too much with the data. </p>

<p>###Our Data<br />
Our statistics are entered into a form - Google Docs or Qualtrics - and ported into <a href="http://products.office.com/en-us/excel">Excel</a> at the end of each term. The result is a spreadsheet has the following data: </p>

<ul>
  <li>Library Coordinator  </li>
  <li>Term </li>
  <li>Date of Session </li>
  <li>Number of Attendees </li>
  <li>Event Description or Course </li>
  <li>Faculty Instructor </li>
  <li>Collaborating Office </li>
  <li>Is this the first time we have supported this course or event?</li>
  <li>Audience </li>
  <li>What department was the event or course affiliated with?</li>
  <li>Type of Instruction / Activity </li>
  <li>Is this the first time we have worked with this faculty member?</li>
</ul>

<p>###Cleaning with OpenRefine</p>

<p>I ignored/deleted all the data except library coordinator and faculty instructor. Next, I moved the spreadsheet into <a href="http://openrefine.org/">OpenRefine</a> and cleaned it. As one might imagine our statistics had small typos, variations in faculty names, and other small undesirable data features. However, with <a href="http://openrefine.org/">OpenRefine</a> I was able to quickly clean our data and transform it into two csv documents. One document for the nodes and one for the edges, or links. 	</p>

<p>###Converting to JSON </p>

<p>I converted my files into JSON as a personal preference. <a href="http://d3js.org/">D3 javascript</a> does have the ability to <a href="https://github.com/mbostock/d3/wiki/CSV">parse csv</a> data but I would rather work with JSON. I used <a href="http://www.convertcsv.com/csv-to-json.htm">convertcsv.com</a> to transform my csv to JSON. There are other tools that can perform the same task, <a href="http://www.convertcsv.com/csv-to-json.htm">convertcsv.com</a> just happened to show up higher on my <a href="https://www.google.com?q=csv%20to%20json">Google search</a>.</p>

<p>###Using D3</p>

<p>Mike Bostock’s <a href="http://d3js.org/">D3 javascript</a> library is a really powerful library with more features and capacity than I could ever hope to explain. But, it has very good <a href="https://github.com/mbostock/d3/wiki">documentation</a> and lots of <a href="https://github.com/mbostock/d3/wiki/Gallery">examples</a>. </p>

<p>The basic procedure for creating a network graph are best explained by sathomas’s <a href="http://bl.ocks.org/sathomas/11550728">series of posts</a> on bl.ock.org. Below is some pseudo code to outline the process. </p>

<pre><code>&lt;!-- add an empty svg element to your webpage --&gt;
&lt;svg&gt;&lt;/svg&gt;

&lt;script&gt;

    //Use d3.select to select your svg element 
    d3.select().append()
               .attr()
               .attr(); 

    //load your data
    d3.json("your-file", callback function(){

        //create "the force" : ) 
        var force = d3.layout.force()
                             .size()
                             .gravity()
                             .charge()
                             .linkStrength()
                             .nodes()
                             .links(); 

        //draw your links first for layout purposes
        var link = svg.selectAll('.link')
                             .data()
                             .enter().append('link')
                             .attr(); 

        //draw your nodes 
        var node = svg.selectAll('.node')
                             .data()
                             .enter().append('circle')
                             .attr()
                             .style()
                             .on("click" toms_function) 
                             .call();

        //use force.on() to iterate during each tick 
        force.on('tick', function(){

            //update node location 
            node.attr('cx', function(d){ return d.x; })
                .attr('cy', function(d){ return d.y; });

            //update link location
            link.attr('x1', function(d){ 
                                return d.source.x; })
                .attr('y1', function(d){ 
                                return d.source.y; })
                .attr('x2', function(d){ 
                                return d.target.x; })
                .attr('y2', function(d){ 
                                return d.target.y; });
        }); 

    //start the force 
    force.start(); 
    }); 

    //additional functions 
    toms_function(){
        //do things when node is clicked
    }
&lt;/script&gt;
</code></pre>

<p>##Code</p>

<p>You can find the <a href="https://github.com/tomhohenstein/tomhohenstein.github.io/tree/master/projects/instruction-network">code for this project on GitHub</a>. If you have any questions, ideas, or improvements. Feel free to <a href="https://twitter.com/tomhohenstein">contact me</a>. </p>

	</div>
</article>
    </div>
    <footer class="row">
      <div>
        <p>Find me on</p>
        <a href="https://www.linkedin.com/in/hohenstein/"><img alt="LinkedIn Icon" class="footer-icon" src="/assets/img/footer-icons/LinkedIn-InBug-2CRev.png"></a> 
        <a href="https://github.com/tomhohenstein"><img alt="GitHub Icon" class="footer-icon" height=50 src="/assets/img/footer-icons/GitHub-Mark-120px-plus.png" width=50></a>
        <a href="https://twitter.com/TomHohenstein"><img alt="Twitter Icon" class="footer-icon"  src="/assets/img/footer-icons/Twitter_logo_blue.png" ></a>
      </div> 
    </footer>

    <script src="/assets/js/l/jquery-1.11.1.js"></script>
    <script src="/assets/js/l/bootstrap.min.js"></script>
    <script src="/assets/js/l/jquery.mobile.custom.touch.min.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-51252936-1', 'auto');
      ga('send', 'pageview');
    </script>
    
      <script src="/assets/js/l/d3.min.js"></script>
    
      <script src="/assets/js/p/instruction.network.js"></script>
    
  </body>
</html>