---
layout:
title: GPS Majors 2010-2013
tags: project, python
---
<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8" />
<title>GPS Majors 2010-2013</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<link href="{{ site.baseurl }}/assets/css/notebook.css" rel="stylesheet">


<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration -->

</head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[1]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c">#</span>
<span class="c"># GPS Majors 2010-2013</span>
<span class="c"># by Tom Hohenstein</span>
<span class="c">#</span>
<span class="c"># I created this notebook to pull out the major code for students</span>
<span class="c"># that took GPS from 2010-2013.</span>

<span class="c">#</span>
<span class="c"># This is my first ipython notebook, that I am sharing, so be gentle  </span>
<span class="c">#</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[2]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># import libraries</span>

<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[3]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># file location of course information </span>
<span class="n">my_data_loc</span> <span class="o">=</span> <span class="s">&quot;data.csv.xlsx&quot;</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[4]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># open excel data - huge file, don&#39;t rush it</span>
<span class="n">xl</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelFile</span><span class="p">(</span><span class="n">my_data_loc</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[5]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># learn your excel sheet names </span>
<span class="n">xl</span><span class="o">.</span><span class="n">sheet_names</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[5]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[u&apos;Pivot&apos;, u&apos;SWVREGS 2010 - 2013&apos;]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[6]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># parse excel file into a dataframe </span>
<span class="n">df</span> <span class="o">=</span> <span class="n">xl</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;SWVREGS 2010 - 2013&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[7]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># list column values </span>
<span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[7]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[u&apos;TERM_CODE&apos;,
 u&apos;PTRM_CODE&apos;,
 u&apos;PTRM_DESC&apos;,
 u&apos;CRN&apos;,
 u&apos;SUBJ_CODE&apos;,
 u&apos;CRSE_NUM&apos;,
 u&apos;SECT_CODE&apos;,
 u&apos;COURSE&apos;,
 u&apos;TITLE&apos;,
 u&apos;PROJECT_IND&apos;,
 u&apos;ADLN_IND&apos;,
 u&apos;Student_ID&apos;,
 u&apos;Student_Name&apos;,
 u&apos;LAST_NAME&apos;,
 u&apos;FIRST_NAME&apos;,
 u&apos;SWVREGS.SWVREGS_STST_CODE&apos;,
 u&apos;SWVREGS.SWVREGS_STST_DESC&apos;,
 u&apos;SWVREGS.SWVREGS_ESTS_CODE&apos;,
 u&apos;SWVREGS.SWVREGS_ESTS_DESC&apos;,
 u&apos;LEVL_CODE&apos;,
 u&apos;LEVL_DESC&apos;,
 u&apos;COLL_CODE&apos;,
 u&apos;DEGC_CODE&apos;,
 u&apos;MAJR1_CODE&apos;,
 u&apos;STYP_CODE&apos;,
 u&apos;STYP_DESC&apos;,
 u&apos;ENROLLED_IND&apos;,
 u&apos;REGISTERED_IND&apos;,
 u&apos;INSTR_SORTNAME&apos;,
 u&apos;INSTR_PIDM&apos;,
 u&apos;INSTR_ID&apos;,
 u&apos;INSTR_L_NAME&apos;,
 u&apos;INSTR_F_NAME&apos;,
 u&apos;SWVREGS.SWVREGS_PIDM_STUDENT&apos;,
 u&apos;CONFID_IND&apos;,
 u&apos;SCHD_CODE&apos;,
 u&apos;SCHD_DESC&apos;]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[8]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># take a look at the shape of your data frame </span>
<span class="n">df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[8]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
(424469, 37)
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[9]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># create all gps set </span>
<span class="n">all_gps</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s">&quot;COURSE&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s">&quot;FY 1100&quot;</span><span class="p">)]</span>
<span class="n">all_gps</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[9]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
(1725, 37)
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[10]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># drop duplicate student numbers </span>
<span class="n">all_gps_students</span> <span class="o">=</span> <span class="n">all_gps</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="s">&quot;Student_ID&quot;</span><span class="p">)</span>

<span class="c"># look at shape of data set</span>
<span class="n">all_gps_students</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[10]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
(1035, 37)
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[11]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># find major codes of GPS students </span>
<span class="n">all_gps_major_codes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">all_gps</span><span class="p">[</span><span class="s">&quot;MAJR1_CODE&quot;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">all_gps_major_codes</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">all_gps_major_codes</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
set([u&apos;BE&apos;, u&apos;BC&apos;, u&apos;BCB&apos;, u&apos;MIS&apos;, u&apos;EVS&apos;, u&apos;BIO&apos;, u&apos;ECE&apos;, u&apos;AREN&apos;, u&apos;ND&apos;, u&apos;ECS&apos;, u&apos;PH&apos;, u&apos;CH&apos;, u&apos;AE&apos;, u&apos;CM&apos;, u&apos;ED&apos;, u&apos;CE&apos;, u&apos;IMGD&apos;, u&apos;EC&apos;, u&apos;IN&apos;, u&apos;CS&apos;, u&apos;RBE&apos;, u&apos;EV&apos;, u&apos;IE&apos;, u&apos;ME&apos;, u&apos;MG&apos;, u&apos;MA&apos;, u&apos;MGE&apos;, u&apos;LAE&apos;, u&apos;PHE&apos;, u&apos;ST&apos;, u&apos;MAC&apos;, u&apos;SC&apos;, u&apos;PSS&apos;])

</pre>
</div>
</div>

<div class="output_area"><div class="prompt output_prompt">
    Out[11]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
33
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[12]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># Let&#39;s check to see if we can count some major codes </span>
<span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_gps_students</span><span class="p">[</span><span class="n">all_gps_students</span><span class="p">[</span><span class="s">&quot;MAJR1_CODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;BE&quot;</span><span class="p">])</span>
<span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_gps_students</span><span class="p">[</span><span class="n">all_gps_students</span><span class="p">[</span><span class="s">&quot;MAJR1_CODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;BC&quot;</span><span class="p">])</span>
<span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_gps_students</span><span class="p">[</span><span class="n">all_gps_students</span><span class="p">[</span><span class="s">&quot;MAJR1_CODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;BCB&quot;</span><span class="p">])</span>
<span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_gps_students</span><span class="p">[</span><span class="n">all_gps_students</span><span class="p">[</span><span class="s">&quot;MAJR1_CODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;ND&quot;</span><span class="p">])</span>
<span class="k">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_gps_students</span><span class="p">[</span><span class="n">all_gps_students</span><span class="p">[</span><span class="s">&quot;MAJR1_CODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&quot;MA&quot;</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
126
13
1
47
21

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[13]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># Loop through all gps major codes, and print out a count of gps students </span>
<span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">all_gps_major_codes</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&#39;Major: {} Students: {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_gps_students</span><span class="p">[</span><span class="n">all_gps_students</span><span class="p">[</span><span class="s">&quot;MAJR1_CODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">m</span><span class="p">]))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
Major: BE Students: 126
Major: BC Students: 13
Major: BCB Students: 1
Major: MIS Students: 1
Major: EVS Students: 6
Major: BIO Students: 85
Major: ECE Students: 62
Major: AREN Students: 5
Major: ND Students: 47
Major: ECS Students: 1
Major: PH Students: 21
Major: CH Students: 15
Major: AE Students: 41
Major: CM Students: 78
Major: ED Students: 159
Major: CE Students: 64
Major: IMGD Students: 6
Major: EC Students: 3
Major: IN Students: 1
Major: CS Students: 47
Major: RBE Students: 71
Major: EV Students: 41
Major: IE Students: 5
Major: ME Students: 83
Major: MG Students: 7
Major: MA Students: 21
Major: MGE Students: 4
Major: LAE Students: 1
Major: PHE Students: 2
Major: ST Students: 1
Major: MAC Students: 7
Major: SC Students: 8
Major: PSS Students: 2

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[14]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># create gps major counts dict </span>
<span class="n">gps_major_counts</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span>  <span class="n">m</span> <span class="ow">in</span> <span class="n">all_gps_major_codes</span><span class="p">:</span>
    <span class="n">gps_major_counts</span><span class="p">[</span><span class="n">m</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_gps_students</span><span class="p">[</span><span class="n">all_gps_students</span><span class="p">[</span><span class="s">&quot;MAJR1_CODE&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">m</span><span class="p">])</span>
   
<span class="n">gps_major_counts</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[14]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
{u&apos;AE&apos;: 41,
 u&apos;AREN&apos;: 5,
 u&apos;BC&apos;: 13,
 u&apos;BCB&apos;: 1,
 u&apos;BE&apos;: 126,
 u&apos;BIO&apos;: 85,
 u&apos;CE&apos;: 64,
 u&apos;CH&apos;: 15,
 u&apos;CM&apos;: 78,
 u&apos;CS&apos;: 47,
 u&apos;EC&apos;: 3,
 u&apos;ECE&apos;: 62,
 u&apos;ECS&apos;: 1,
 u&apos;ED&apos;: 159,
 u&apos;EV&apos;: 41,
 u&apos;EVS&apos;: 6,
 u&apos;IE&apos;: 5,
 u&apos;IMGD&apos;: 6,
 u&apos;IN&apos;: 1,
 u&apos;LAE&apos;: 1,
 u&apos;MA&apos;: 21,
 u&apos;MAC&apos;: 7,
 u&apos;ME&apos;: 83,
 u&apos;MG&apos;: 7,
 u&apos;MGE&apos;: 4,
 u&apos;MIS&apos;: 1,
 u&apos;ND&apos;: 47,
 u&apos;PH&apos;: 21,
 u&apos;PHE&apos;: 2,
 u&apos;PSS&apos;: 2,
 u&apos;RBE&apos;: 71,
 u&apos;SC&apos;: 8,
 u&apos;ST&apos;: 1}
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[15]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># some quick testing </span>
<span class="k">print</span> <span class="n">gps_major_counts</span><span class="p">[</span><span class="s">&quot;AE&quot;</span><span class="p">]</span>
<span class="k">print</span> <span class="n">gps_major_counts</span><span class="p">[</span><span class="s">&quot;PSS&quot;</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
41
2

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[30]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># let&#39;s count the students, see if it matches all_gps_students.shape (1035)</span>
<span class="n">num</span> <span class="o">=</span> <span class="mi">0</span> 
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">gps_major_counts</span><span class="p">:</span> 
    <span class="n">num</span> <span class="o">=</span> <span class="n">num</span> <span class="o">+</span> <span class="n">gps_major_counts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="k">print</span> <span class="n">num</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
1035

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[31]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># test json dump of data </span>
<span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">gps_major_counts</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[31]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
&apos;{&quot;BE&quot;: 126, &quot;BC&quot;: 13, &quot;BCB&quot;: 1, &quot;MIS&quot;: 1, &quot;EVS&quot;: 6, &quot;BIO&quot;: 85, &quot;ECE&quot;: 62, &quot;AREN&quot;: 5, &quot;ND&quot;: 47, &quot;ECS&quot;: 1, &quot;PH&quot;: 21, &quot;CH&quot;: 15, &quot;AE&quot;: 41, &quot;CM&quot;: 78, &quot;ED&quot;: 159, &quot;EC&quot;: 3, &quot;IMGD&quot;: 6, &quot;CE&quot;: 64, &quot;IN&quot;: 1, &quot;CS&quot;: 47, &quot;RBE&quot;: 71, &quot;EV&quot;: 41, &quot;IE&quot;: 5, &quot;ME&quot;: 83, &quot;MG&quot;: 7, &quot;MA&quot;: 21, &quot;MGE&quot;: 4, &quot;LAE&quot;: 1, &quot;PHE&quot;: 2, &quot;ST&quot;: 1, &quot;MAC&quot;: 7, &quot;SC&quot;: 8, &quot;PSS&quot;: 2}&apos;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[32]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="c"># save data to json file for d3 data visualization </span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;gps_major_counts.txt&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">gps_major_counts</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>
</body>
</html>
